{% extends "base.html" %}

{% block title %}Admin Dashboard - Personal Blog{% endblock %}

{% block content %}
<div class="header">
    <div class="route-info">/admin</div>
    <h1>Personal Blog</h1>
</div>

<div class="card">
    <div class="admin-header">
        <h2 style="font-size: 28px;">Dashboard</h2>
        <div class="admin-actions">
            <a href="{{ url_for('new_article') }}" class="btn">+ Add</a>
            <a href="{{ url_for('logout') }}" class="btn">Logout</a>
        </div>
    </div>
    
    {% if articles %}
    <ul class="article-list">
        {% for article in articles %}
        <li class="article-item">
            <div>
                <div class="article-title">{{ article.title }}</div>
                <div class="article-date" style="margin-top: 5px;">{{ article.date }}</div>
            </div>
            <div class="article-actions">
                <a href="{{ url_for('edit_article', article_id=article.id) }}" class="btn btn-small">Edit</a>
                <form method="POST" action="{{ url_for('delete_article_route', article_id=article.id) }}" 
                      onsubmit="return confirm('Are you sure you want to delete this article?');">
                    <button type="submit" class="btn btn-small btn-danger">Delete</button>
                </form>
            </div>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p style="text-align: center; color: #999; padding: 40px;">No articles yet. Click "+ Add" to create your first article.</p>
    {% endif %}
</div>
{% endblock %}